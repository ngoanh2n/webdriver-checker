import java.nio.charset.StandardCharsets

/**
 * @author Ho Huu Ngoan (ngoanh2n@gmail.com)
 * @since 2021-04-09
 */
tasks.withType(Test) {
    useJUnitPlatform() {
        includeEngines("junit-jupiter")
    }

    testLogging {
        showStandardStreams = true
        events "passed", "skipped", "failed"
    }

    systemProperty("file.encoding", StandardCharsets.UTF_8.name())
    systemProperty("junit.jupiter.extensions.autodetection.enabled", "true")

    ignoreFailures = true
    outputs.upToDateWhen { false }
    systemProperties = System.getProperties() as Map<String, ?>
}
